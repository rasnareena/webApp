<div  style="margin-top:80px; padding-left:320px;  "  class="container" >
	
	<div class="col-md-4 "  style="width:1000px; " >

		<h2 >{{appMasterDataService.complaintHeader}}</h2>	 
			 
		<form name="form" id="form1" #compform="ngForm" style="width:400px" (ngSubmit)="compform.form.valid && complaintRegister(compform)"  style="padding-top:40px; width:500px; " novalidate>
					<div class="alert alert-warning" role="alert" *ngIf="notRegistered && regData==null" style="margin:10px;">
  					You are not registered user. Please register yourself here.
					</div>
					<div class="alert alert-success" role="alert" *ngIf="isComplaintSubmitted " style="margin:10px;">
  					Your complaint got submitted. Complaint number is {{cust.comp_id}}
					</div>
			<div class="form-group row" >
			 	<label for="inputPhone" class="col-sm-3 col-form-label">Phone:</label>  
			 	<div class="col-sm-9">  
			      		<input 
			             class="form-control"			              
			             id="inputPhone" 
			             name="inputPhone" 
			             pattern = "[0-9]*"
			             placeholder="Enter Phone Number 1234567890"
			              [(ngModel)]="cust.inputPhone"
			              #phone = "ngModel"
			             minLength="10" 
			             maxLength = "10"
			             (keyup) = "checkExistingCustomer($event)"

			               required>
			     </div>
			       
			 </div>
			 
			 <div class="form-group row" *ngIf="notRegistered && !isComplaintSubmitted" >
			    <label for="name" class="col-sm-3 col-form-label">Name: </label>
			    <div class="col-sm-9">
			    <input type="text" class="form-control" id="name" name="name"  placeholder="Enter First Name" [(ngModel)]="cust.name" #fname="ngModel"  required />            	
            </div>
			 </div>
			 <div class="form-group row" *ngIf="notRegistered && !isComplaintSubmitted">
			 	<label for="flatno" class="col-sm-3 col-form-label">Flat No:</label>
			 	 <div class="col-sm-9">
			    <input type="text" class="form-control" id="flatno" name="flatno" placeholder="Enter Flat No"
			    [(ngModel)]="cust.flatno" #fno = "ngModel" required />		   
			</div>
			 </div>

			 <div class="form-group row" *ngIf="notRegistered && !isComplaintSubmitted">
			 	<label for="societyname" class="col-sm-3 col-form-label">Society Name:</label>
			 	<div class="col-sm-9">
			    <input type="text" class="form-control" id="societyname" name="societyname" placeholder="Enter Society Name" 
			    [(ngModel)]="cust.societyname" #sname = "ngModel" required />			    
			</div></div>

			 <div class="form-group" *ngIf="isRegistered && !isComplaintSubmitted">
				<h3>Please update your complaint:</h3>
			 </div>
			 <div class="form-group row" *ngIf="isRegistered && !isComplaintSubmitted">
			 	<label for="name" class="col-sm-3 col-form-label" >Name:</label>
			 	<div class="col-sm-9">
			 		<input  class="form-control" [(ngModel)]="cust.name" #fname="ngModel" type="text" readonly class="form-control-plaintext" id="name"  name="name" >
			 	</div>
			 </div>
			  <div class="form-group row" *ngIf="isRegistered && !isComplaintSubmitted">
			 	<label for="address" class="col-sm-3 col-form-label">Address: </label>
			 	<div class="col-sm-9">
			 		<input  class="form-control" [(ngModel)]="cust.address" #faddress="ngModel" type="text" readonly class="form-control-plaintext" id="address"  name="address" >
			 	</div>
			 </div>
			 <div class="form-group row" *ngIf="isRegistered || notRegistered && !isComplaintSubmitted">
			 	  <label for="complaintdescription" class="col-sm-3 col-form-label">Complaint:</label>
			 	  <div class="col-sm-9">
				  		<textarea class="form-control" rows="3" type="input" id="complaintdescription" name="complaintdescription" [(ngModel)]="complaintdescription" #fcomplaintdescription="ngModel" required></textarea>	
				  </div>		
			 </div>
			 <div class="form-group row" *ngIf="isRegistered || notRegistered && !isComplaintSubmitted">			 	
		        <!--<div class="input-group" required>-->
		            <!--span class="input-group-btn" requireds>-->
		                <!--<span class="btn btn-default btn-file" required>-->
		                     <input type="file"  value="filename" id="uploadImage"  name="uploadImage" accept="image/*" 
		                      (change)="imageUpload($event)" required>
		                <!--</span>-->
		           <!-- </span> -->
		            
		       <!-- </div>			 	-->
			 </div>
			 
			 <button type="submit" [disabled]="!compform.form.valid" *ngIf="isRegistered || notRegistered && !isComplaintSubmitted" class="btn btn-primary">Submit</button>
			  
		</form>
			
	</div>
</div>